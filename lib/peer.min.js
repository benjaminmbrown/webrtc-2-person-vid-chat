


<!DOCTYPE html>
<html lang="en" class=" is-copy-enabled">
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#">
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    <meta name="viewport" content="width=1020">
    
    
    <title>peerjs/peer.min.js at master Â· peers/peerjs</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-144.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144.png">
    <meta property="fb:app_id" content="1401488693436528">

      <meta content="@github" name="twitter:site" /><meta content="summary" name="twitter:card" /><meta content="peers/peerjs" name="twitter:title" /><meta content="peerjs - Peer-to-peer data in the browser." name="twitter:description" /><meta content="https://avatars0.githubusercontent.com/u/3409784?v=3&amp;s=400" name="twitter:image:src" />
      <meta content="GitHub" property="og:site_name" /><meta content="object" property="og:type" /><meta content="https://avatars0.githubusercontent.com/u/3409784?v=3&amp;s=400" property="og:image" /><meta content="peers/peerjs" property="og:title" /><meta content="https://github.com/peers/peerjs" property="og:url" /><meta content="peerjs - Peer-to-peer data in the browser." property="og:description" />
      <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">
    <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">
    <link rel="assets" href="https://assets-cdn.github.com/">
    <link rel="web-socket" href="wss://live.github.com/_sockets/MjUzNzU4OToyZTk0NmU1YTNlNzRiYWNkZjNmZWQ0Nzg3YjI3YTg3YTpiMzg1YWEzNjI5MzU2NGIwZTEyOTFkNmNkOTQ0ZTU1YjNkMjQyYjY2NmU0YmVmMDE0MjM3MzZmYjc3NDI5YjZl--027ea20e9139c1112714e8afaf90fc20d75771f3">
    <meta name="pjax-timeout" content="1000">
    <link rel="sudo-modal" href="/sessions/sudo_modal">
    <meta name="features-enabled" content="41,110">

    <meta name="msapplication-TileImage" content="/windows-tile.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="selected-link" value="repo_source" data-pjax-transient>

        <meta name="google-analytics" content="UA-3769691-2">

    <meta content="collector.githubapp.com" name="octolytics-host" /><meta content="collector-cdn.github.com" name="octolytics-script-host" /><meta content="github" name="octolytics-app-id" /><meta content="49092A1A:6BEE:336C623:559B23DC" name="octolytics-dimension-request_id" /><meta content="2537589" name="octolytics-actor-id" /><meta content="benjaminmbrown" name="octolytics-actor-login" /><meta content="c52f6412803ccbfc30ab5954ead5344b18794140363ce498efc927831910d317" name="octolytics-actor-hash" />
    
    <meta content="Rails, view, blob#show" name="analytics-event" />
    <meta class="js-ga-set" name="dimension1" content="Logged In">
    <meta name="is-dotcom" content="true">
      <meta name="hostname" content="github.com">
    <meta name="user-login" content="benjaminmbrown">

      <link rel="icon" sizes="any" mask href="https://assets-cdn.github.com/pinned-octocat.svg">
      <meta name="theme-color" content="#4078c0">
      <link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico">


    <meta content="authenticity_token" name="csrf-param" />
<meta content="MtXq4xqKwsFlp8d2h1vtipdS4umVHRmQbVq1bvc0DD1VfY26SsX/okDnnf1qqArFmJbRF3uuVWsNd1BTjD8mYw==" name="csrf-token" />

    <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github/index-ac321799838c7ae0eb25065c5fc26d36a78c120df9ce84022449f7c633fa7a16.css" media="all" rel="stylesheet" />
    <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github2/index-d138888ac7a83e7d5336ee1aecc8de418743389af38a64c419c43218fa07eeff.css" media="all" rel="stylesheet" />
    
    


    <meta http-equiv="x-pjax-version" content="604bcf7fc2b7a0128865a6c199f0ca7c">

      
  <meta name="description" content="peerjs - Peer-to-peer data in the browser.">
  <meta name="go-import" content="github.com/peers/peerjs git https://github.com/peers/peerjs.git">

  <meta content="3409784" name="octolytics-dimension-user_id" /><meta content="peers" name="octolytics-dimension-user_login" /><meta content="7292898" name="octolytics-dimension-repository_id" /><meta content="peers/peerjs" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="false" name="octolytics-dimension-repository_is_fork" /><meta content="7292898" name="octolytics-dimension-repository_network_root_id" /><meta content="peers/peerjs" name="octolytics-dimension-repository_network_root_nwo" />
  <link href="https://github.com/peers/peerjs/commits/master.atom" rel="alternate" title="Recent Commits to peerjs:master" type="application/atom+xml">

  </head>


  <body class="logged_in  env-production windows vis-public page-blob">
    <a href="#start-of-content" tabindex="1" class="accessibility-aid js-skip-to-content">Skip to content</a>
    <div class="wrapper">
      
      
      



        <div class="header header-logged-in true" role="banner">
  <div class="container clearfix">

    <a class="header-logo-invertocat" href="https://github.com/" data-hotkey="g d" aria-label="Homepage" data-ga-click="Header, go to dashboard, icon:logo">
  <span class="mega-octicon octicon-mark-github"></span>
</a>


      <div class="site-search repo-scope js-site-search" role="search">
          <form accept-charset="UTF-8" action="/peers/peerjs/search" class="js-site-search-form" data-global-search-url="/search" data-repo-search-url="/peers/peerjs/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
  <label class="js-chromeless-input-container form-control">
    <div class="scope-badge">This repository</div>
    <input type="text"
      class="js-site-search-focus js-site-search-field is-clearable chromeless-input"
      data-hotkey="s"
      name="q"
      placeholder="Search"
      data-global-scope-placeholder="Search GitHub"
      data-repo-scope-placeholder="Search"
      tabindex="1"
      autocapitalize="off">
  </label>
</form>
      </div>

      <ul class="header-nav left" role="navigation">
        <li class="header-nav-item">
          <a href="/pulls" class="js-selected-navigation-item header-nav-link" data-ga-click="Header, click, Nav menu - item:pulls context:user" data-hotkey="g p" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls">
            Pull requests
</a>        </li>
        <li class="header-nav-item">
          <a href="/issues" class="js-selected-navigation-item header-nav-link" data-ga-click="Header, click, Nav menu - item:issues context:user" data-hotkey="g i" data-selected-links="/issues /issues/assigned /issues/mentioned /issues">
            Issues
</a>        </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="https://gist.github.com" data-ga-click="Header, go to gist, text:gist">Gist</a>
          </li>
      </ul>

    
<ul class="header-nav user-nav right" id="user-links">
  <li class="header-nav-item">
      <span class="js-socket-channel js-updatable-content"
        data-channel="notification-changed:benjaminmbrown"
        data-url="/notifications/header">
      <a href="/notifications" aria-label="You have unread notifications" class="header-nav-link notification-indicator tooltipped tooltipped-s" data-ga-click="Header, go to notifications, icon:unread" data-hotkey="g n">
          <span class="mail-status unread"></span>
          <span class="octicon octicon-inbox"></span>
</a>  </span>

  </li>

  <li class="header-nav-item dropdown js-menu-container">
    <a class="header-nav-link tooltipped tooltipped-s js-menu-target" href="/new"
       aria-label="Create new..."
       data-ga-click="Header, create new, icon:add">
      <span class="octicon octicon-plus left"></span>
      <span class="dropdown-caret"></span>
    </a>

    <div class="dropdown-menu-content js-menu-content">
      <ul class="dropdown-menu dropdown-menu-sw">
        
<a class="dropdown-item" href="/new" data-ga-click="Header, create new repository">
  New repository
</a>


  <a class="dropdown-item" href="/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>



  <div class="dropdown-divider"></div>
  <div class="dropdown-header">
    <span title="peers/peerjs">This repository</span>
  </div>
    <a class="dropdown-item" href="/peers/peerjs/issues/new" data-ga-click="Header, create new issue">
      New issue
    </a>

      </ul>
    </div>
  </li>

  <li class="header-nav-item dropdown js-menu-container">
    <a class="header-nav-link name tooltipped tooltipped-s js-menu-target" href="/benjaminmbrown"
       aria-label="View profile and more"
       data-ga-click="Header, show menu, icon:avatar">
      <img alt="@benjaminmbrown" class="avatar" height="20" src="https://avatars3.githubusercontent.com/u/2537589?v=3&amp;s=40" width="20" />
      <span class="dropdown-caret"></span>
    </a>

    <div class="dropdown-menu-content js-menu-content">
      <div class="dropdown-menu dropdown-menu-sw">
        <div class="dropdown-header header-nav-current-user css-truncate">
          Signed in as <strong class="css-truncate-target">benjaminmbrown</strong>
        </div>
        <div class="dropdown-divider"></div>

        <a class="dropdown-item" href="/benjaminmbrown" data-ga-click="Header, go to profile, text:your profile">
          Your profile
        </a>
        <a class="dropdown-item" href="/stars" data-ga-click="Header, go to starred repos, text:your stars">
          Your stars
        </a>
        <a class="dropdown-item" href="/explore" data-ga-click="Header, go to explore, text:explore">
          Explore
        </a>
        <a class="dropdown-item" href="https://help.github.com" data-ga-click="Header, go to help, text:help">
          Help
        </a>
        <div class="dropdown-divider"></div>

        <a class="dropdown-item" href="/settings/profile" data-ga-click="Header, go to settings, icon:settings">
          Settings
        </a>

        <form accept-charset="UTF-8" action="/logout" class="logout-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="whr96oBt2WhUZvOXJCM+m8mPnl+5roQEXDiPl+n2SSGeuowqB3F9R/Fwlody4QfGiR+1uK0/y3Ns5DbLaj1F0Q==" /></div>
          <button class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout">
            Sign out
          </button>
</form>      </div>
    </div>
  </li>
</ul>


    
  </div>
</div>

        

        


      <div id="start-of-content" class="accessibility-aid"></div>
          <div class="site" itemscope itemtype="http://schema.org/WebPage">
    <div id="js-flash-container">
      
    </div>
    <div class="pagehead repohead instapaper_ignore readability-menu">
      <div class="container">

        
<ul class="pagehead-actions">

  <li>
      <form accept-charset="UTF-8" action="/notifications/subscribe" class="js-social-container" data-autosubmit="true" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="xsV/KQBG4/OA0zqrPRu5g99OgvEvuklC96Zwu7TT/ESGnUGzB7CiYqMjGrFdPz0ZHpMap5to+SppuWdaUevllQ==" /></div>    <input id="repository_id" name="repository_id" type="hidden" value="7292898" />

      <div class="select-menu js-menu-container js-select-menu">
        <a href="/peers/peerjs/subscription"
          class="btn btn-sm btn-with-count select-menu-button js-menu-target" role="button" tabindex="0" aria-haspopup="true"
          data-ga-click="Repository, click Watch settings, action:blob#show">
          <span class="js-select-button">
            <span class="octicon octicon-eye"></span>
            Watch
          </span>
        </a>
        <a class="social-count js-social-count" href="/peers/peerjs/watchers">
          209
        </a>

        <div class="select-menu-modal-holder">
          <div class="select-menu-modal subscription-menu-modal js-menu-content" aria-hidden="true">
            <div class="select-menu-header">
              <span class="select-menu-title">Notifications</span>
              <span class="octicon octicon-x js-menu-close" role="button" aria-label="Close"></span>
            </div>

            <div class="select-menu-list js-navigation-container" role="menu">

              <div class="select-menu-item js-navigation-item selected" role="menuitem" tabindex="0">
                <span class="select-menu-item-icon octicon octicon-check"></span>
                <div class="select-menu-item-text">
                  <input checked="checked" id="do_included" name="do" type="radio" value="included" />
                  <span class="select-menu-item-heading">Not watching</span>
                  <span class="description">Be notified when participating or @mentioned.</span>
                  <span class="js-select-button-text hidden-select-button-text">
                    <span class="octicon octicon-eye"></span>
                    Watch
                  </span>
                </div>
              </div>

              <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                <span class="select-menu-item-icon octicon octicon octicon-check"></span>
                <div class="select-menu-item-text">
                  <input id="do_subscribed" name="do" type="radio" value="subscribed" />
                  <span class="select-menu-item-heading">Watching</span>
                  <span class="description">Be notified of all conversations.</span>
                  <span class="js-select-button-text hidden-select-button-text">
                    <span class="octicon octicon-eye"></span>
                    Unwatch
                  </span>
                </div>
              </div>

              <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                <span class="select-menu-item-icon octicon octicon-check"></span>
                <div class="select-menu-item-text">
                  <input id="do_ignore" name="do" type="radio" value="ignore" />
                  <span class="select-menu-item-heading">Ignoring</span>
                  <span class="description">Never be notified.</span>
                  <span class="js-select-button-text hidden-select-button-text">
                    <span class="octicon octicon-mute"></span>
                    Stop ignoring
                  </span>
                </div>
              </div>

            </div>

          </div>
        </div>
      </div>
</form>
  </li>

  <li>
    
  <div class="js-toggler-container js-social-container starring-container ">

    <form accept-charset="UTF-8" action="/peers/peerjs/unstar" class="js-toggler-form starred js-unstar-button" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="o/1WQq1m8iKrV0Hxg08fuvTJZSeFClBb7XDsLu+I9qtLKEHSFowPeonQhFvHaMHEzMc9Y2YroSXiWHZRJ/Ma9A==" /></div>
      <button
        class="btn btn-sm btn-with-count js-toggler-target"
        aria-label="Unstar this repository" title="Unstar peers/peerjs"
        data-ga-click="Repository, click unstar button, action:blob#show; text:Unstar">
        <span class="octicon octicon-star"></span>
        Unstar
      </button>
        <a class="social-count js-social-count" href="/peers/peerjs/stargazers">
          3,031
        </a>
</form>
    <form accept-charset="UTF-8" action="/peers/peerjs/star" class="js-toggler-form unstarred js-star-button" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="hSswzOiPIgs+8X7SLB1HH5LOxgBxopR/4GF4YsBdO2G5cpYI+AqsNV4ZFMm2806fhsujcueTR96LV0ZtjpkqXQ==" /></div>
      <button
        class="btn btn-sm btn-with-count js-toggler-target"
        aria-label="Star this repository" title="Star peers/peerjs"
        data-ga-click="Repository, click star button, action:blob#show; text:Star">
        <span class="octicon octicon-star"></span>
        Star
      </button>
        <a class="social-count js-social-count" href="/peers/peerjs/stargazers">
          3,031
        </a>
</form>  </div>

  </li>

        <li>
          <a href="#fork-destination-box" class="btn btn-sm btn-with-count"
              title="Fork your own copy of peers/peerjs to your account"
              aria-label="Fork your own copy of peers/peerjs to your account"
              rel="facebox"
              data-ga-click="Repository, show fork modal, action:blob#show; text:Fork">
            <span class="octicon octicon-repo-forked"></span>
            Fork
          </a>
          <a href="/peers/peerjs/network" class="social-count">432</a>

          <div id="fork-destination-box" style="display: none;">
            <h2 class="facebox-header">Where should we fork this repository?</h2>
            <include-fragment src=""
                class="js-fork-select-fragment fork-select-fragment"
                data-url="/peers/peerjs/fork?fragment=1">
              <img alt="Loading" height="64" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-128.gif" width="64" />
            </include-fragment>
          </div>
        </li>

</ul>

        <h1 itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title public">
          <span class="mega-octicon octicon-repo"></span>
          <span class="author"><a href="/peers" class="url fn" itemprop="url" rel="author"><span itemprop="title">peers</span></a></span><!--
       --><span class="path-divider">/</span><!--
       --><strong><a href="/peers/peerjs" data-pjax="#js-repo-pjax-container">peerjs</a></strong>

          <span class="page-context-loader">
            <img alt="" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
          </span>

        </h1>
      </div><!-- /.container -->
    </div><!-- /.repohead -->

    <div class="container">
      <div class="repository-with-sidebar repo-container new-discussion-timeline  ">
        <div class="repository-sidebar clearfix">
            
<nav class="sunken-menu repo-nav js-repo-nav js-sidenav-container-pjax js-octicon-loaders"
     role="navigation"
     data-pjax="#js-repo-pjax-container"
     data-issue-count-url="/peers/peerjs/issues/counts">
  <ul class="sunken-menu-group">
    <li class="tooltipped tooltipped-w" aria-label="Code">
      <a href="/peers/peerjs" aria-label="Code" class="selected js-selected-navigation-item sunken-menu-item" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /peers/peerjs">
        <span class="octicon octicon-code"></span> <span class="full-word">Code</span>
        <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>    </li>

      <li class="tooltipped tooltipped-w" aria-label="Issues">
        <a href="/peers/peerjs/issues" aria-label="Issues" class="js-selected-navigation-item sunken-menu-item" data-hotkey="g i" data-selected-links="repo_issues repo_labels repo_milestones /peers/peerjs/issues">
          <span class="octicon octicon-issue-opened"></span> <span class="full-word">Issues</span>
          <span class="js-issue-replace-counter"></span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>

    <li class="tooltipped tooltipped-w" aria-label="Pull requests">
      <a href="/peers/peerjs/pulls" aria-label="Pull requests" class="js-selected-navigation-item sunken-menu-item" data-hotkey="g p" data-selected-links="repo_pulls /peers/peerjs/pulls">
          <span class="octicon octicon-git-pull-request"></span> <span class="full-word">Pull requests</span>
          <span class="js-pull-replace-counter"></span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>    </li>

      <li class="tooltipped tooltipped-w" aria-label="Wiki">
        <a href="/peers/peerjs/wiki" aria-label="Wiki" class="js-selected-navigation-item sunken-menu-item" data-hotkey="g w" data-selected-links="repo_wiki /peers/peerjs/wiki">
          <span class="octicon octicon-book"></span> <span class="full-word">Wiki</span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>
  </ul>
  <div class="sunken-menu-separator"></div>
  <ul class="sunken-menu-group">

    <li class="tooltipped tooltipped-w" aria-label="Pulse">
      <a href="/peers/peerjs/pulse" aria-label="Pulse" class="js-selected-navigation-item sunken-menu-item" data-selected-links="pulse /peers/peerjs/pulse">
        <span class="octicon octicon-pulse"></span> <span class="full-word">Pulse</span>
        <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>    </li>

    <li class="tooltipped tooltipped-w" aria-label="Graphs">
      <a href="/peers/peerjs/graphs" aria-label="Graphs" class="js-selected-navigation-item sunken-menu-item" data-selected-links="repo_graphs repo_contributors /peers/peerjs/graphs">
        <span class="octicon octicon-graph"></span> <span class="full-word">Graphs</span>
        <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>    </li>
  </ul>


</nav>

              <div class="only-with-full-nav">
                  
<div class="js-clone-url clone-url open"
  data-protocol-type="http">
  <h3><span class="text-emphasized">HTTPS</span> clone URL</h3>
  <div class="input-group js-zeroclipboard-container">
    <input type="text" class="input-mini input-monospace js-url-field js-zeroclipboard-target"
           value="https://github.com/peers/peerjs.git" readonly="readonly">
    <span class="input-group-button">
      <button aria-label="Copy to clipboard" class="js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>

  
<div class="js-clone-url clone-url "
  data-protocol-type="ssh">
  <h3><span class="text-emphasized">SSH</span> clone URL</h3>
  <div class="input-group js-zeroclipboard-container">
    <input type="text" class="input-mini input-monospace js-url-field js-zeroclipboard-target"
           value="git@github.com:peers/peerjs.git" readonly="readonly">
    <span class="input-group-button">
      <button aria-label="Copy to clipboard" class="js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>

  
<div class="js-clone-url clone-url "
  data-protocol-type="subversion">
  <h3><span class="text-emphasized">Subversion</span> checkout URL</h3>
  <div class="input-group js-zeroclipboard-container">
    <input type="text" class="input-mini input-monospace js-url-field js-zeroclipboard-target"
           value="https://github.com/peers/peerjs" readonly="readonly">
    <span class="input-group-button">
      <button aria-label="Copy to clipboard" class="js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>



<div class="clone-options">You can clone with
  <form accept-charset="UTF-8" action="/users/set_protocol?protocol_selector=http&amp;protocol_type=clone" class="inline-form js-clone-selector-form is-enabled" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="C38UNCCqYaf+Hqdka6m4kDKXR1/pWYInarazzjlLHIccp1ApEYlmsXUAu43I/5h6JG7iZMypY/v7ZKaX/E1Elg==" /></div><button class="btn-link js-clone-selector" data-protocol="http" type="submit">HTTPS</button></form>, <form accept-charset="UTF-8" action="/users/set_protocol?protocol_selector=ssh&amp;protocol_type=clone" class="inline-form js-clone-selector-form is-enabled" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="LNlmxGwz0CogICJ+72M8/SZqDsOK0ztO2miHgHK6i1GgWrnOgOA3VssFhBO8tzFHcZAk9xzulaUcwhH8OvB7KQ==" /></div><button class="btn-link js-clone-selector" data-protocol="ssh" type="submit">SSH</button></form>, or <form accept-charset="UTF-8" action="/users/set_protocol?protocol_selector=subversion&amp;protocol_type=clone" class="inline-form js-clone-selector-form is-enabled" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="4O9Jdv5FejfffrH9JoZbm6IGatygCLdg4mMImjRb8RnGEGolpUPkND5SDmnxXq8nukUvpRmzTKKIB4I7E254rg==" /></div><button class="btn-link js-clone-selector" data-protocol="subversion" type="submit">Subversion</button></form>.
  <a href="https://help.github.com/articles/which-remote-url-should-i-use" class="help tooltipped tooltipped-n" aria-label="Get help on which URL is right for you.">
    <span class="octicon octicon-question"></span>
  </a>
</div>


  <a href="github-windows://openRepo/https://github.com/peers/peerjs" class="btn btn-sm sidebar-button" title="Save peers/peerjs to your computer and use it in GitHub Desktop." aria-label="Save peers/peerjs to your computer and use it in GitHub Desktop.">
    <span class="octicon octicon-device-desktop"></span>
    Clone in Desktop
  </a>


                <a href="/peers/peerjs/archive/master.zip"
                   class="btn btn-sm sidebar-button"
                   aria-label="Download the contents of peers/peerjs as a zip file"
                   title="Download the contents of peers/peerjs as a zip file"
                   rel="nofollow">
                  <span class="octicon octicon-cloud-download"></span>
                  Download ZIP
                </a>
              </div>
        </div><!-- /.repository-sidebar -->

        <div id="js-repo-pjax-container" class="repository-content context-loader-container" data-pjax-container>

          

<a href="/peers/peerjs/blob/cf5be327ae20df97e21ac9ba91838deafcbeeb7e/dist/peer.min.js" class="hidden js-permalink-shortcut" data-hotkey="y">Permalink</a>

<!-- blob contrib key: blob_contributors:v21:bd5fe1924b1bec9921171cd7f28c7895 -->

<div class="file-navigation js-zeroclipboard-container">
  
<div class="select-menu js-menu-container js-select-menu left">
  <span class="btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w"
    data-ref="master"
    title="master"
    role="button" aria-label="Switch branches or tags" tabindex="0" aria-haspopup="true">
    <span class="octicon octicon-git-branch"></span>
    <i>branch:</i>
    <span class="js-select-button css-truncate-target">master</span>
  </span>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax aria-hidden="true">

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <span class="select-menu-title">Switch branches/tags</span>
        <span class="octicon octicon-x js-menu-close" role="button" aria-label="Close"></span>
      </div>

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" data-filter-placeholder="Filter branches/tags" class="js-select-menu-tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" data-filter-placeholder="Find a tagâ¦" class="js-select-menu-tab">Tags</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/peers/peerjs/blob/add-path-option/dist/peer.min.js"
               data-name="add-path-option"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="add-path-option">
                add-path-option
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/peers/peerjs/blob/av/dist/peer.min.js"
               data-name="av"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="av">
                av
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/peers/peerjs/blob/av-rewrite/dist/peer.min.js"
               data-name="av-rewrite"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="av-rewrite">
                av-rewrite
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/peers/peerjs/blob/better-supports/dist/peer.min.js"
               data-name="better-supports"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="better-supports">
                better-supports
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/peers/peerjs/blob/buffered-send/dist/peer.min.js"
               data-name="buffered-send"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="buffered-send">
                buffered-send
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/peers/peerjs/blob/compatibility/dist/peer.min.js"
               data-name="compatibility"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="compatibility">
                compatibility
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/peers/peerjs/blob/examples/dist/peer.min.js"
               data-name="examples"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="examples">
                examples
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/peers/peerjs/blob/ff/dist/peer.min.js"
               data-name="ff"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="ff">
                ff
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/peers/peerjs/blob/firefox/dist/peer.min.js"
               data-name="firefox"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="firefox">
                firefox
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/peers/peerjs/blob/interoperable/dist/peer.min.js"
               data-name="interoperable"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="interoperable">
                interoperable
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/peers/peerjs/blob/manager/dist/peer.min.js"
               data-name="manager"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="manager">
                manager
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open selected"
               href="/peers/peerjs/blob/master/dist/peer.min.js"
               data-name="master"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="master">
                master
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/peers/peerjs/blob/mb-1/dist/peer.min.js"
               data-name="mb-1"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="mb-1">
                mb-1
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/peers/peerjs/blob/michelle-reconnect/dist/peer.min.js"
               data-name="michelle-reconnect"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="michelle-reconnect">
                michelle-reconnect
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/peers/peerjs/blob/move-cloud/dist/peer.min.js"
               data-name="move-cloud"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="move-cloud">
                move-cloud
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/peers/peerjs/blob/multiple-streams/dist/peer.min.js"
               data-name="multiple-streams"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="multiple-streams">
                multiple-streams
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/peers/peerjs/blob/sdp-transform/dist/peer.min.js"
               data-name="sdp-transform"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="sdp-transform">
                sdp-transform
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/peers/peerjs/blob/unreliable/dist/peer.min.js"
               data-name="unreliable"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="unreliable">
                unreliable
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/peers/peerjs/blob/xhr-rewrite-client/dist/peer.min.js"
               data-name="xhr-rewrite-client"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="xhr-rewrite-client">
                xhr-rewrite-client
              </span>
            </a>
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.3.14/dist/peer.min.js"
                 data-name="0.3.14"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.3.14">0.3.14</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.3.13/dist/peer.min.js"
                 data-name="0.3.13"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.3.13">0.3.13</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.3.12/dist/peer.min.js"
                 data-name="0.3.12"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.3.12">0.3.12</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.3.11/dist/peer.min.js"
                 data-name="0.3.11"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.3.11">0.3.11</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.3.10/dist/peer.min.js"
                 data-name="0.3.10"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.3.10">0.3.10</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.3.9/dist/peer.min.js"
                 data-name="0.3.9"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.3.9">0.3.9</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.3.8/dist/peer.min.js"
                 data-name="0.3.8"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.3.8">0.3.8</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.3.7/dist/peer.min.js"
                 data-name="0.3.7"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.3.7">0.3.7</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.3.6/dist/peer.min.js"
                 data-name="0.3.6"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.3.6">0.3.6</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.3.5/dist/peer.min.js"
                 data-name="0.3.5"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.3.5">0.3.5</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.3.4/dist/peer.min.js"
                 data-name="0.3.4"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.3.4">0.3.4</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.3.3/dist/peer.min.js"
                 data-name="0.3.3"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.3.3">0.3.3</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.3.2/dist/peer.min.js"
                 data-name="0.3.2"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.3.2">0.3.2</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.3.1/dist/peer.min.js"
                 data-name="0.3.1"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.3.1">0.3.1</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.3.0/dist/peer.min.js"
                 data-name="0.3.0"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.3.0">0.3.0</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.2.8/dist/peer.min.js"
                 data-name="0.2.8"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.2.8">0.2.8</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.2.7/dist/peer.min.js"
                 data-name="0.2.7"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.2.7">0.2.7</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.2.6/dist/peer.min.js"
                 data-name="0.2.6"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.2.6">0.2.6</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.2.5/dist/peer.min.js"
                 data-name="0.2.5"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.2.5">0.2.5</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.2.1/dist/peer.min.js"
                 data-name="0.2.1"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.2.1">0.2.1</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.2.0/dist/peer.min.js"
                 data-name="0.2.0"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.2.0">0.2.0</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.1.7/dist/peer.min.js"
                 data-name="0.1.7"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.1.7">0.1.7</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.1.6/dist/peer.min.js"
                 data-name="0.1.6"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.1.6">0.1.6</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.1.5/dist/peer.min.js"
                 data-name="0.1.5"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.1.5">0.1.5</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/peers/peerjs/tree/0.1.0/dist/peer.min.js"
                 data-name="0.1.0"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="0.1.0">0.1.0</a>
            </div>
        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div>

    </div>
  </div>
</div>

  <div class="btn-group right">
    <a href="/peers/peerjs/find/master"
          class="js-show-file-finder btn btn-sm empty-icon tooltipped tooltipped-s"
          data-pjax
          data-hotkey="t"
          aria-label="Quickly jump between files">
      <span class="octicon octicon-list-unordered"></span>
    </a>
    <button aria-label="Copy file path to clipboard" class="js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
  </div>

  <div class="breadcrumb js-zeroclipboard-target">
    <span class="repo-root js-repo-root"><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/peers/peerjs" class="" data-branch="master" data-pjax="true" itemscope="url"><span itemprop="title">peerjs</span></a></span></span><span class="separator">/</span><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/peers/peerjs/tree/master/dist" class="" data-branch="master" data-pjax="true" itemscope="url"><span itemprop="title">dist</span></a></span><span class="separator">/</span><strong class="final-path">peer.min.js</strong>
  </div>
</div>


  <div class="commit file-history-tease">
    <div class="file-history-tease-header">
        <img alt="@michelle" class="avatar" height="24" src="https://avatars1.githubusercontent.com/u/928757?v=3&amp;s=48" width="24" />
        <span class="author"><a href="/michelle" rel="contributor">michelle</a></span>
        <time datetime="2014-10-10T23:06:04Z" is="relative-time">Oct 10, 2014</time>
        <div class="commit-title">
            <a href="/peers/peerjs/commit/63c1e3539cc77920ea2c81826b34f4e73add9ce8" class="message" data-pjax="true" title="Fixes #246, but we should figure out why addStream is happening.">Fixes</a> <a href="https://github.com/peers/peerjs/issues/246" class="issue-link" title="Undefined method being called on a DataConnection">#246</a><a href="/peers/peerjs/commit/63c1e3539cc77920ea2c81826b34f4e73add9ce8" class="message" data-pjax="true" title="Fixes #246, but we should figure out why addStream is happening.">, but we should figure out why addStream is happening.</a>
        </div>
    </div>

    <div class="participation">
      <p class="quickstat">
        <a href="#blob_contributors_box" rel="facebox">
          <strong>4</strong>
           contributors
        </a>
      </p>
          <a class="avatar-link tooltipped tooltipped-s" aria-label="michelle" href="/peers/peerjs/commits/master/dist/peer.min.js?author=michelle"><img alt="@michelle" class="avatar" height="20" src="https://avatars3.githubusercontent.com/u/928757?v=3&amp;s=40" width="20" /> </a>
    <a class="avatar-link tooltipped tooltipped-s" aria-label="ericz" href="/peers/peerjs/commits/master/dist/peer.min.js?author=ericz"><img alt="@ericz" class="avatar" height="20" src="https://avatars2.githubusercontent.com/u/270151?v=3&amp;s=40" width="20" /> </a>
    <a class="avatar-link tooltipped tooltipped-s" aria-label="mururu" href="/peers/peerjs/commits/master/dist/peer.min.js?author=mururu"><img alt="@mururu" class="avatar" height="20" src="https://avatars2.githubusercontent.com/u/978649?v=3&amp;s=40" width="20" /> </a>
    <a class="avatar-link tooltipped tooltipped-s" aria-label="lmb" href="/peers/peerjs/commits/master/dist/peer.min.js?author=lmb"><img alt="@lmb" class="avatar" height="20" src="https://avatars2.githubusercontent.com/u/368392?v=3&amp;s=40" width="20" /> </a>


    </div>
    <div id="blob_contributors_box" style="display:none">
      <h2 class="facebox-header">Users who have contributed to this file</h2>
      <ul class="facebox-user-list">
          <li class="facebox-user-list-item">
            <img alt="@michelle" height="24" src="https://avatars1.githubusercontent.com/u/928757?v=3&amp;s=48" width="24" />
            <a href="/michelle">michelle</a>
          </li>
          <li class="facebox-user-list-item">
            <img alt="@ericz" height="24" src="https://avatars0.githubusercontent.com/u/270151?v=3&amp;s=48" width="24" />
            <a href="/ericz">ericz</a>
          </li>
          <li class="facebox-user-list-item">
            <img alt="@mururu" height="24" src="https://avatars0.githubusercontent.com/u/978649?v=3&amp;s=48" width="24" />
            <a href="/mururu">mururu</a>
          </li>
          <li class="facebox-user-list-item">
            <img alt="@lmb" height="24" src="https://avatars0.githubusercontent.com/u/368392?v=3&amp;s=48" width="24" />
            <a href="/lmb">lmb</a>
          </li>
      </ul>
    </div>
  </div>

<div class="file">
  <div class="file-header">
    <div class="file-actions">

      <div class="btn-group">
        <a href="/peers/peerjs/raw/master/dist/peer.min.js" class="btn btn-sm " id="raw-url">Raw</a>
          <a href="/peers/peerjs/blame/master/dist/peer.min.js" class="btn btn-sm js-update-url-with-hash">Blame</a>
        <a href="/peers/peerjs/commits/master/dist/peer.min.js" class="btn btn-sm " rel="nofollow">History</a>
      </div>

        <a class="octicon-btn tooltipped tooltipped-nw"
           href="github-windows://openRepo/https://github.com/peers/peerjs?branch=master&amp;filepath=dist%2Fpeer.min.js"
           aria-label="Open this file in GitHub for Windows"
           data-ga-click="Repository, open with desktop, type:windows">
            <span class="octicon octicon-device-desktop"></span>
        </a>

            <form accept-charset="UTF-8" action="/peers/peerjs/edit/master/dist/peer.min.js" class="inline-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="MbOqC1+JNFx5OSS7deMtoj8zmPkq36PUHTMs5RFWUH4ieeuHGM1r3GieYyJzJUpH0lUkUdsKq0M3WOFVJZRzKA==" /></div>
              <button class="octicon-btn tooltipped tooltipped-n" type="submit" aria-label="Fork this project and edit the file" data-hotkey="e" data-disable-with>
                <span class="octicon octicon-pencil"></span>
              </button>
</form>
          <form accept-charset="UTF-8" action="/peers/peerjs/delete/master/dist/peer.min.js" class="inline-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="uJZHVKzkKv78PzLpd/2CPjBH7Vrl0cf34nbcLDwB/HnLg+2VbYcbICssf2t/C3LnAui1HHwduOo9qpPZ4dPd/g==" /></div>
            <button class="octicon-btn octicon-btn-danger tooltipped tooltipped-n" type="submit" aria-label="Fork this project and delete this file" data-disable-with>
              <span class="octicon octicon-trashcan"></span>
            </button>
</form>    </div>

    <div class="file-info">
        2 lines (2 sloc)
        <span class="file-info-divider"></span>
      42.135 kB
    </div>
  </div>
  

  <div class="blob-wrapper data type-javascript">
      <table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tr>
        <td id="L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="LC1" class="blob-code blob-code-inner js-file-line">/*! peerjs build:0.3.13, production. Copyright(c) 2013 Michelle Bu &lt;michelle@michellebu.com&gt; */!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i=&quot;function&quot;==typeof require&amp;&amp;require;if(!h&amp;&amp;i)return i(g,!0);if(f)return f(g,!0);var j=new Error(&quot;Cannot find module &#39;&quot;+g+&quot;&#39;&quot;);throw j.code=&quot;MODULE_NOT_FOUND&quot;,j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f=&quot;function&quot;==typeof require&amp;&amp;require,g=0;g&lt;d.length;g++)e(d[g]);return e}({1:[function(a,b){b.exports.RTCSessionDescription=window.RTCSessionDescription||window.mozRTCSessionDescription,b.exports.RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,b.exports.RTCIceCandidate=window.RTCIceCandidate||window.mozRTCIceCandidate},{}],2:[function(a,b){function c(a,b,g){return this instanceof c?(e.call(this),this.options=d.extend({serialization:&quot;binary&quot;,reliable:!1},g),this.open=!1,this.type=&quot;data&quot;,this.peer=a,this.provider=b,this.id=this.options.connectionId||c._idPrefix+d.randomToken(),this.label=this.options.label||this.id,this.metadata=this.options.metadata,this.serialization=this.options.serialization,this.reliable=this.options.reliable,this._buffer=[],this._buffering=!1,this.bufferSize=0,this._chunkedData={},this.options._payload&amp;&amp;(this._peerBrowser=this.options._payload.browser),void f.startConnection(this,this.options._payload||{originator:!0})):new c(a,b,g)}var d=a(&quot;./util&quot;),e=a(&quot;eventemitter3&quot;),f=a(&quot;./negotiator&quot;),g=a(&quot;reliable&quot;);d.inherits(c,e),c._idPrefix=&quot;dc_&quot;,c.prototype.initialize=function(a){this._dc=this.dataChannel=a,this._configureDataChannel()},c.prototype._configureDataChannel=function(){var a=this;d.supports.sctp&amp;&amp;(this._dc.binaryType=&quot;arraybuffer&quot;),this._dc.onopen=function(){d.log(&quot;Data channel connection success&quot;),a.open=!0,a.emit(&quot;open&quot;)},!d.supports.sctp&amp;&amp;this.reliable&amp;&amp;(this._reliable=new g(this._dc,d.debug)),this._reliable?this._reliable.onmessage=function(b){a.emit(&quot;data&quot;,b)}:this._dc.onmessage=function(b){a._handleDataMessage(b)},this._dc.onclose=function(){d.log(&quot;DataChannel closed for:&quot;,a.peer),a.close()}},c.prototype._handleDataMessage=function(a){var b=this,c=a.data,e=c.constructor;if(&quot;binary&quot;===this.serialization||&quot;binary-utf8&quot;===this.serialization){if(e===Blob)return void d.blobToArrayBuffer(c,function(a){c=d.unpack(a),b.emit(&quot;data&quot;,c)});if(e===ArrayBuffer)c=d.unpack(c);else if(e===String){var f=d.binaryStringToArrayBuffer(c);c=d.unpack(f)}}else&quot;json&quot;===this.serialization&amp;&amp;(c=JSON.parse(c));if(c.__peerData){var g=c.__peerData,h=this._chunkedData[g]||{data:[],count:0,total:c.total};return h.data[c.n]=c.data,h.count+=1,h.total===h.count&amp;&amp;(delete this._chunkedData[g],c=new Blob(h.data),this._handleDataMessage({data:c})),void(this._chunkedData[g]=h)}this.emit(&quot;data&quot;,c)},c.prototype.close=function(){this.open&amp;&amp;(this.open=!1,f.cleanup(this),this.emit(&quot;close&quot;))},c.prototype.send=function(a,b){if(!this.open)return void this.emit(&quot;error&quot;,new Error(&quot;Connection is not open. You should listen for the `open` event before sending messages.&quot;));if(this._reliable)return void this._reliable.send(a);var c=this;if(&quot;json&quot;===this.serialization)this._bufferedSend(JSON.stringify(a));else if(&quot;binary&quot;===this.serialization||&quot;binary-utf8&quot;===this.serialization){var e=d.pack(a),f=d.chunkedBrowsers[this._peerBrowser]||d.chunkedBrowsers[d.browser];if(f&amp;&amp;!b&amp;&amp;e.size&gt;d.chunkedMTU)return void this._sendChunks(e);d.supports.sctp?d.supports.binaryBlob?this._bufferedSend(e):d.blobToArrayBuffer(e,function(a){c._bufferedSend(a)}):d.blobToBinaryString(e,function(a){c._bufferedSend(a)})}else this._bufferedSend(a)},c.prototype._bufferedSend=function(a){(this._buffering||!this._trySend(a))&amp;&amp;(this._buffer.push(a),this.bufferSize=this._buffer.length)},c.prototype._trySend=function(a){try{this._dc.send(a)}catch(b){this._buffering=!0;var c=this;return setTimeout(function(){c._buffering=!1,c._tryBuffer()},100),!1}return!0},c.prototype._tryBuffer=function(){if(0!==this._buffer.length){var a=this._buffer[0];this._trySend(a)&amp;&amp;(this._buffer.shift(),this.bufferSize=this._buffer.length,this._tryBuffer())}},c.prototype._sendChunks=function(a){for(var b=d.chunk(a),c=0,e=b.length;e&gt;c;c+=1){var a=b[c];this.send(a,!0)}},c.prototype.handleMessage=function(a){var b=a.payload;switch(a.type){case&quot;ANSWER&quot;:this._peerBrowser=b.browser,f.handleSDP(a.type,this,b.sdp);break;case&quot;CANDIDATE&quot;:f.handleCandidate(this,b.candidate);break;default:d.warn(&quot;Unrecognized message type:&quot;,a.type,&quot;from peer:&quot;,this.peer)}},b.exports=c},{&quot;./negotiator&quot;:5,&quot;./util&quot;:8,eventemitter3:9,reliable:12}],3:[function(a){window.Socket=a(&quot;./socket&quot;),window.MediaConnection=a(&quot;./mediaconnection&quot;),window.DataConnection=a(&quot;./dataconnection&quot;),window.Peer=a(&quot;./peer&quot;),window.RTCPeerConnection=a(&quot;./adapter&quot;).RTCPeerConnection,window.RTCSessionDescription=a(&quot;./adapter&quot;).RTCSessionDescription,window.RTCIceCandidate=a(&quot;./adapter&quot;).RTCIceCandidate,window.Negotiator=a(&quot;./negotiator&quot;),window.util=a(&quot;./util&quot;),window.BinaryPack=a(&quot;js-binarypack&quot;)},{&quot;./adapter&quot;:1,&quot;./dataconnection&quot;:2,&quot;./mediaconnection&quot;:4,&quot;./negotiator&quot;:5,&quot;./peer&quot;:6,&quot;./socket&quot;:7,&quot;./util&quot;:8,&quot;js-binarypack&quot;:10}],4:[function(a,b){function c(a,b,g){return this instanceof c?(e.call(this),this.options=d.extend({},g),this.open=!1,this.type=&quot;media&quot;,this.peer=a,this.provider=b,this.metadata=this.options.metadata,this.localStream=this.options._stream,this.id=this.options.connectionId||c._idPrefix+d.randomToken(),void(this.localStream&amp;&amp;f.startConnection(this,{_stream:this.localStream,originator:!0}))):new c(a,b,g)}var d=a(&quot;./util&quot;),e=a(&quot;eventemitter3&quot;),f=a(&quot;./negotiator&quot;);d.inherits(c,e),c._idPrefix=&quot;mc_&quot;,c.prototype.addStream=function(a){d.log(&quot;Receiving stream&quot;,a),this.remoteStream=a,this.emit(&quot;stream&quot;,a)},c.prototype.handleMessage=function(a){var b=a.payload;switch(a.type){case&quot;ANSWER&quot;:f.handleSDP(a.type,this,b.sdp),this.open=!0;break;case&quot;CANDIDATE&quot;:f.handleCandidate(this,b.candidate);break;default:d.warn(&quot;Unrecognized message type:&quot;,a.type,&quot;from peer:&quot;,this.peer)}},c.prototype.answer=function(a){if(this.localStream)return void d.warn(&quot;Local stream already exists on this MediaConnection. Are you answering a call twice?&quot;);this.options._payload._stream=a,this.localStream=a,f.startConnection(this,this.options._payload);for(var b=this.provider._getMessages(this.id),c=0,e=b.length;e&gt;c;c+=1)this.handleMessage(b[c]);this.open=!0},c.prototype.close=function(){this.open&amp;&amp;(this.open=!1,f.cleanup(this),this.emit(&quot;close&quot;))},b.exports=c},{&quot;./negotiator&quot;:5,&quot;./util&quot;:8,eventemitter3:9}],5:[function(a,b){var c=a(&quot;./util&quot;),d=a(&quot;./adapter&quot;).RTCPeerConnection,e=a(&quot;./adapter&quot;).RTCSessionDescription,f=a(&quot;./adapter&quot;).RTCIceCandidate,g={pcs:{data:{},media:{}},queue:[]};g._idPrefix=&quot;pc_&quot;,g.startConnection=function(a,b){var d=g._getPeerConnection(a,b);if(&quot;media&quot;===a.type&amp;&amp;b._stream&amp;&amp;d.addStream(b._stream),a.pc=a.peerConnection=d,b.originator){if(&quot;data&quot;===a.type){var e={};c.supports.sctp||(e={reliable:b.reliable});var f=d.createDataChannel(a.label,e);a.initialize(f)}c.supports.onnegotiationneeded||g._makeOffer(a)}else g.handleSDP(&quot;OFFER&quot;,a,b.sdp)},g._getPeerConnection=function(a,b){g.pcs[a.type]||c.error(a.type+&quot; is not a valid connection type. Maybe you overrode the `type` property somewhere.&quot;),g.pcs[a.type][a.peer]||(g.pcs[a.type][a.peer]={});{var d;g.pcs[a.type][a.peer]}return b.pc&amp;&amp;(d=g.pcs[a.type][a.peer][b.pc]),d&amp;&amp;&quot;stable&quot;===d.signalingState||(d=g._startPeerConnection(a)),d},g._startPeerConnection=function(a){c.log(&quot;Creating RTCPeerConnection.&quot;);var b=g._idPrefix+c.randomToken(),e={};&quot;data&quot;!==a.type||c.supports.sctp?&quot;media&quot;===a.type&amp;&amp;(e={optional:[{DtlsSrtpKeyAgreement:!0}]}):e={optional:[{RtpDataChannels:!0}]};var f=new d(a.provider.options.config,e);return g.pcs[a.type][a.peer][b]=f,g._setupListeners(a,f,b),f},g._setupListeners=function(a,b){var d=a.peer,e=a.id,f=a.provider;c.log(&quot;Listening for ICE candidates.&quot;),b.onicecandidate=function(b){b.candidate&amp;&amp;(c.log(&quot;Received ICE candidates for:&quot;,a.peer),f.socket.send({type:&quot;CANDIDATE&quot;,payload:{candidate:b.candidate,type:a.type,connectionId:a.id},dst:d}))},b.oniceconnectionstatechange=function(){switch(b.iceConnectionState){case&quot;disconnected&quot;:case&quot;failed&quot;:c.log(&quot;iceConnectionState is disconnected, closing connections to &quot;+d),a.close();break;case&quot;completed&quot;:b.onicecandidate=c.noop}},b.onicechange=b.oniceconnectionstatechange,c.log(&quot;Listening for `negotiationneeded`&quot;),b.onnegotiationneeded=function(){c.log(&quot;`negotiationneeded` triggered&quot;),&quot;stable&quot;==b.signalingState?g._makeOffer(a):c.log(&quot;onnegotiationneeded triggered when not stable. Is another connection being established?&quot;)},c.log(&quot;Listening for data channel&quot;),b.ondatachannel=function(a){c.log(&quot;Received data channel&quot;);var b=a.channel,g=f.getConnection(d,e);g.initialize(b)},c.log(&quot;Listening for remote stream&quot;),b.onaddstream=function(a){c.log(&quot;Received remote stream&quot;);var b=a.stream,g=f.getConnection(d,e);&quot;media&quot;===g.type&amp;&amp;g.addStream(b)}},g.cleanup=function(a){c.log(&quot;Cleaning up PeerConnection to &quot;+a.peer);var b=a.pc;!b||&quot;closed&quot;===b.readyState&amp;&amp;&quot;closed&quot;===b.signalingState||(b.close(),a.pc=null)},g._makeOffer=function(a){var b=a.pc;b.createOffer(function(d){c.log(&quot;Created offer.&quot;),!c.supports.sctp&amp;&amp;&quot;data&quot;===a.type&amp;&amp;a.reliable&amp;&amp;(d.sdp=Reliable.higherBandwidthSDP(d.sdp)),b.setLocalDescription(d,function(){c.log(&quot;Set localDescription: offer&quot;,&quot;for:&quot;,a.peer),a.provider.socket.send({type:&quot;OFFER&quot;,payload:{sdp:d,type:a.type,label:a.label,connectionId:a.id,reliable:a.reliable,serialization:a.serialization,metadata:a.metadata,browser:c.browser},dst:a.peer})},function(b){a.provider.emitError(&quot;webrtc&quot;,b),c.log(&quot;Failed to setLocalDescription, &quot;,b)})},function(b){a.provider.emitError(&quot;webrtc&quot;,b),c.log(&quot;Failed to createOffer, &quot;,b)},a.options.constraints)},g._makeAnswer=function(a){var b=a.pc;b.createAnswer(function(d){c.log(&quot;Created answer.&quot;),!c.supports.sctp&amp;&amp;&quot;data&quot;===a.type&amp;&amp;a.reliable&amp;&amp;(d.sdp=Reliable.higherBandwidthSDP(d.sdp)),b.setLocalDescription(d,function(){c.log(&quot;Set localDescription: answer&quot;,&quot;for:&quot;,a.peer),a.provider.socket.send({type:&quot;ANSWER&quot;,payload:{sdp:d,type:a.type,connectionId:a.id,browser:c.browser},dst:a.peer})},function(b){a.provider.emitError(&quot;webrtc&quot;,b),c.log(&quot;Failed to setLocalDescription, &quot;,b)})},function(b){a.provider.emitError(&quot;webrtc&quot;,b),c.log(&quot;Failed to create answer, &quot;,b)})},g.handleSDP=function(a,b,d){d=new e(d);var f=b.pc;c.log(&quot;Setting remote description&quot;,d),f.setRemoteDescription(d,function(){c.log(&quot;Set remoteDescription:&quot;,a,&quot;for:&quot;,b.peer),&quot;OFFER&quot;===a&amp;&amp;g._makeAnswer(b)},function(a){b.provider.emitError(&quot;webrtc&quot;,a),c.log(&quot;Failed to setRemoteDescription, &quot;,a)})},g.handleCandidate=function(a,b){var d=b.candidate,e=b.sdpMLineIndex;a.pc.addIceCandidate(new f({sdpMLineIndex:e,candidate:d})),c.log(&quot;Added ICE candidate for:&quot;,a.peer)},b.exports=g},{&quot;./adapter&quot;:1,&quot;./util&quot;:8}],6:[function(a,b){function c(a,b){return this instanceof c?(e.call(this),a&amp;&amp;a.constructor==Object?(b=a,a=void 0):a&amp;&amp;(a=a.toString()),b=d.extend({debug:0,host:d.CLOUD_HOST,port:d.CLOUD_PORT,key:&quot;peerjs&quot;,path:&quot;/&quot;,token:d.randomToken(),config:d.defaultConfig},b),this.options=b,&quot;/&quot;===b.host&amp;&amp;(b.host=window.location.hostname),&quot;/&quot;!==b.path[0]&amp;&amp;(b.path=&quot;/&quot;+b.path),&quot;/&quot;!==b.path[b.path.length-1]&amp;&amp;(b.path+=&quot;/&quot;),void 0===b.secure&amp;&amp;b.host!==d.CLOUD_HOST&amp;&amp;(b.secure=d.isSecure()),b.logFunction&amp;&amp;d.setLogFunction(b.logFunction),d.setLogLevel(b.debug),d.supports.audioVideo||d.supports.data?d.validateId(a)?d.validateKey(b.key)?b.secure&amp;&amp;&quot;0.peerjs.com&quot;===b.host?void this._delayedAbort(&quot;ssl-unavailable&quot;,&quot;The cloud server currently does not support HTTPS. Please run your own PeerServer to use HTTPS.&quot;):(this.destroyed=!1,this.disconnected=!1,this.open=!1,this.connections={},this._lostMessages={},this._initializeServerConnection(),void(a?this._initialize(a):this._retrieveId())):void this._delayedAbort(&quot;invalid-key&quot;,&#39;API KEY &quot;&#39;+b.key+&#39;&quot; is invalid&#39;):void this._delayedAbort(&quot;invalid-id&quot;,&#39;ID &quot;&#39;+a+&#39;&quot; is invalid&#39;):void this._delayedAbort(&quot;browser-incompatible&quot;,&quot;The current browser does not support WebRTC&quot;)):new c(a,b)}var d=a(&quot;./util&quot;),e=a(&quot;eventemitter3&quot;),f=a(&quot;./socket&quot;),g=a(&quot;./mediaconnection&quot;),h=a(&quot;./dataconnection&quot;);d.inherits(c,e),c.prototype._initializeServerConnection=function(){var a=this;this.socket=new f(this.options.secure,this.options.host,this.options.port,this.options.path,this.options.key),this.socket.on(&quot;message&quot;,function(b){a._handleMessage(b)}),this.socket.on(&quot;error&quot;,function(b){a._abort(&quot;socket-error&quot;,b)}),this.socket.on(&quot;disconnected&quot;,function(){a.disconnected||(a.emitError(&quot;network&quot;,&quot;Lost connection to server.&quot;),a.disconnect())}),this.socket.on(&quot;close&quot;,function(){a.disconnected||a._abort(&quot;socket-closed&quot;,&quot;Underlying socket is already closed.&quot;)})},c.prototype._retrieveId=function(){var a=this,b=new XMLHttpRequest,c=this.options.secure?&quot;https://&quot;:&quot;http://&quot;,e=c+this.options.host+&quot;:&quot;+this.options.port+this.options.path+this.options.key+&quot;/id&quot;,f=&quot;?ts=&quot;+(new Date).getTime()+Math.random();e+=f,b.open(&quot;get&quot;,e,!0),b.onerror=function(b){d.error(&quot;Error retrieving ID&quot;,b);var c=&quot;&quot;;&quot;/&quot;===a.options.path&amp;&amp;a.options.host!==d.CLOUD_HOST&amp;&amp;(c=&quot; If you passed in a `path` to your self-hosted PeerServer, you&#39;ll also need to pass in that same path when creating a new Peer.&quot;),a._abort(&quot;server-error&quot;,&quot;Could not get an ID from the server.&quot;+c)},b.onreadystatechange=function(){return 4===b.readyState?200!==b.status?void b.onerror():void a._initialize(b.responseText):void 0},b.send(null)},c.prototype._initialize=function(a){this.id=a,this.socket.start(this.id,this.options.token)},c.prototype._handleMessage=function(a){var b,c=a.type,e=a.payload,f=a.src;switch(c){case&quot;OPEN&quot;:this.emit(&quot;open&quot;,this.id),this.open=!0;break;case&quot;ERROR&quot;:this._abort(&quot;server-error&quot;,e.msg);break;case&quot;ID-TAKEN&quot;:this._abort(&quot;unavailable-id&quot;,&quot;ID `&quot;+this.id+&quot;` is taken&quot;);break;case&quot;INVALID-KEY&quot;:this._abort(&quot;invalid-key&quot;,&#39;API KEY &quot;&#39;+this.options.key+&#39;&quot; is invalid&#39;);break;case&quot;LEAVE&quot;:d.log(&quot;Received leave message from&quot;,f),this._cleanupPeer(f);break;case&quot;EXPIRE&quot;:this.emitError(&quot;peer-unavailable&quot;,&quot;Could not connect to peer &quot;+f);break;case&quot;OFFER&quot;:var i=e.connectionId;if(b=this.getConnection(f,i))d.warn(&quot;Offer received for existing Connection ID:&quot;,i);else{if(&quot;media&quot;===e.type)b=new g(f,this,{connectionId:i,_payload:e,metadata:e.metadata}),this._addConnection(f,b),this.emit(&quot;call&quot;,b);else{if(&quot;data&quot;!==e.type)return void d.warn(&quot;Received malformed connection type:&quot;,e.type);b=new h(f,this,{connectionId:i,_payload:e,metadata:e.metadata,label:e.label,serialization:e.serialization,reliable:e.reliable}),this._addConnection(f,b),this.emit(&quot;connection&quot;,b)}for(var j=this._getMessages(i),k=0,l=j.length;l&gt;k;k+=1)b.handleMessage(j[k])}break;default:if(!e)return void d.warn(&quot;You received a malformed message from &quot;+f+&quot; of type &quot;+c);var m=e.connectionId;b=this.getConnection(f,m),b&amp;&amp;b.pc?b.handleMessage(a):m?this._storeMessage(m,a):d.warn(&quot;You received an unrecognized message:&quot;,a)}},c.prototype._storeMessage=function(a,b){this._lostMessages[a]||(this._lostMessages[a]=[]),this._lostMessages[a].push(b)},c.prototype._getMessages=function(a){var b=this._lostMessages[a];return b?(delete this._lostMessages[a],b):[]},c.prototype.connect=function(a,b){if(this.disconnected)return d.warn(&quot;You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available.&quot;),void this.emitError(&quot;disconnected&quot;,&quot;Cannot connect to new Peer after disconnecting from server.&quot;);var c=new h(a,this,b);return this._addConnection(a,c),c},c.prototype.call=function(a,b,c){if(this.disconnected)return d.warn(&quot;You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect.&quot;),void this.emitError(&quot;disconnected&quot;,&quot;Cannot connect to new Peer after disconnecting from server.&quot;);if(!b)return void d.error(&quot;To call a peer, you must provide a stream from your browser&#39;s `getUserMedia`.&quot;);c=c||{},c._stream=b;var e=new g(a,this,c);return this._addConnection(a,e),e},c.prototype._addConnection=function(a,b){this.connections[a]||(this.connections[a]=[]),this.connections[a].push(b)},c.prototype.getConnection=function(a,b){var c=this.connections[a];if(!c)return null;for(var d=0,e=c.length;e&gt;d;d++)if(c[d].id===b)return c[d];return null},c.prototype._delayedAbort=function(a,b){var c=this;d.setZeroTimeout(function(){c._abort(a,b)})},c.prototype._abort=function(a,b){d.error(&quot;Aborting!&quot;),this._lastServerId?this.disconnect():this.destroy(),this.emitError(a,b)},c.prototype.emitError=function(a,b){d.error(&quot;Error:&quot;,b),&quot;string&quot;==typeof b&amp;&amp;(b=new Error(b)),b.type=a,this.emit(&quot;error&quot;,b)},c.prototype.destroy=function(){this.destroyed||(this._cleanup(),this.disconnect(),this.destroyed=!0)},c.prototype._cleanup=function(){if(this.connections)for(var a=Object.keys(this.connections),b=0,c=a.length;c&gt;b;b++)this._cleanupPeer(a[b]);this.emit(&quot;close&quot;)},c.prototype._cleanupPeer=function(a){for(var b=this.connections[a],c=0,d=b.length;d&gt;c;c+=1)b[c].close()},c.prototype.disconnect=function(){var a=this;d.setZeroTimeout(function(){a.disconnected||(a.disconnected=!0,a.open=!1,a.socket&amp;&amp;a.socket.close(),a.emit(&quot;disconnected&quot;,a.id),a._lastServerId=a.id,a.id=null)})},c.prototype.reconnect=function(){if(this.disconnected&amp;&amp;!this.destroyed)d.log(&quot;Attempting reconnection to server with ID &quot;+this._lastServerId),this.disconnected=!1,this._initializeServerConnection(),this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error(&quot;This peer cannot reconnect to the server. It has already been destroyed.&quot;);if(this.disconnected||this.open)throw new Error(&quot;Peer &quot;+this.id+&quot; cannot reconnect because it is not disconnected from the server!&quot;);d.error(&quot;In a hurry? We&#39;re still trying to make the initial connection!&quot;)}},c.prototype.listAllPeers=function(a){a=a||function(){};var b=this,c=new XMLHttpRequest,e=this.options.secure?&quot;https://&quot;:&quot;http://&quot;,f=e+this.options.host+&quot;:&quot;+this.options.port+this.options.path+this.options.key+&quot;/peers&quot;,g=&quot;?ts=&quot;+(new Date).getTime()+Math.random();f+=g,c.open(&quot;get&quot;,f,!0),c.onerror=function(){b._abort(&quot;server-error&quot;,&quot;Could not get peers from the server.&quot;),a([])},c.onreadystatechange=function(){if(4===c.readyState){if(401===c.status){var e=&quot;&quot;;throw e=b.options.host!==d.CLOUD_HOST?&quot;It looks like you&#39;re using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.&quot;:&quot;You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.&quot;,a([]),new Error(&quot;It doesn&#39;t look like you have permission to list peers IDs. &quot;+e)}a(200!==c.status?[]:JSON.parse(c.responseText))}},c.send(null)},b.exports=c},{&quot;./dataconnection&quot;:2,&quot;./mediaconnection&quot;:4,&quot;./socket&quot;:7,&quot;./util&quot;:8,eventemitter3:9}],7:[function(a,b){function c(a,b,d,f,g){if(!(this instanceof c))return new c(a,b,d,f,g);e.call(this),this.disconnected=!1,this._queue=[];var h=a?&quot;https://&quot;:&quot;http://&quot;,i=a?&quot;wss://&quot;:&quot;ws://&quot;;this._httpUrl=h+b+&quot;:&quot;+d+f+g,this._wsUrl=i+b+&quot;:&quot;+d+f+&quot;peerjs?key=&quot;+g}var d=a(&quot;./util&quot;),e=a(&quot;eventemitter3&quot;);d.inherits(c,e),c.prototype.start=function(a,b){this.id=a,this._httpUrl+=&quot;/&quot;+a+&quot;/&quot;+b,this._wsUrl+=&quot;&amp;id=&quot;+a+&quot;&amp;token=&quot;+b,this._startXhrStream(),this._startWebSocket()},c.prototype._startWebSocket=function(){var a=this;this._socket||(this._socket=new WebSocket(this._wsUrl),this._socket.onmessage=function(b){try{var c=JSON.parse(b.data)}catch(e){return void d.log(&quot;Invalid server message&quot;,b.data)}a.emit(&quot;message&quot;,c)},this._socket.onclose=function(){d.log(&quot;Socket closed.&quot;),a.disconnected=!0,a.emit(&quot;disconnected&quot;)},this._socket.onopen=function(){a._timeout&amp;&amp;(clearTimeout(a._timeout),setTimeout(function(){a._http.abort(),a._http=null},5e3)),a._sendQueuedMessages(),d.log(&quot;Socket open&quot;)})},c.prototype._startXhrStream=function(a){try{var b=this;this._http=new XMLHttpRequest,this._http._index=1,this._http._streamIndex=a||0,this._http.open(&quot;post&quot;,this._httpUrl+&quot;/id?i=&quot;+this._http._streamIndex,!0),this._http.onerror=function(){clearTimeout(b._timeout),b.emit(&quot;disconnected&quot;)},this._http.onreadystatechange=function(){2==this.readyState&amp;&amp;this.old?(this.old.abort(),delete this.old):this.readyState&gt;2&amp;&amp;200===this.status&amp;&amp;this.responseText&amp;&amp;b._handleStream(this)},this._http.send(null),this._setHTTPTimeout()}catch(c){d.log(&quot;XMLHttpRequest not available; defaulting to WebSockets&quot;)}},c.prototype._handleStream=function(a){var b=a.responseText.split(&quot;\n&quot;);if(a._buffer)for(;a._buffer.length&gt;0;){var c=a._buffer.shift(),e=b[c];try{e=JSON.parse(e)}catch(f){a._buffer.shift(c);break}this.emit(&quot;message&quot;,e)}var g=b[a._index];if(g)if(a._index+=1,a._index===b.length)a._buffer||(a._buffer=[]),a._buffer.push(a._index-1);else{try{g=JSON.parse(g)}catch(f){return void d.log(&quot;Invalid server message&quot;,g)}this.emit(&quot;message&quot;,g)}},c.prototype._setHTTPTimeout=function(){var a=this;this._timeout=setTimeout(function(){var b=a._http;a._wsOpen()?b.abort():(a._startXhrStream(b._streamIndex+1),a._http.old=b)},25e3)},c.prototype._wsOpen=function(){return this._socket&amp;&amp;1==this._socket.readyState},c.prototype._sendQueuedMessages=function(){for(var a=0,b=this._queue.length;b&gt;a;a+=1)this.send(this._queue[a])},c.prototype.send=function(a){if(!this.disconnected){if(!this.id)return void this._queue.push(a);if(!a.type)return void this.emit(&quot;error&quot;,&quot;Invalid message&quot;);var b=JSON.stringify(a);if(this._wsOpen())this._socket.send(b);else{var c=new XMLHttpRequest,d=this._httpUrl+&quot;/&quot;+a.type.toLowerCase();c.open(&quot;post&quot;,d,!0),c.setRequestHeader(&quot;Content-Type&quot;,&quot;application/json&quot;),c.send(b)}}},c.prototype.close=function(){!this.disconnected&amp;&amp;this._wsOpen()&amp;&amp;(this._socket.close(),this.disconnected=!0)},b.exports=c},{&quot;./util&quot;:8,eventemitter3:9}],8:[function(a,b){var c={iceServers:[{url:&quot;stun:stun.l.google.com:19302&quot;}]},d=1,e=a(&quot;js-binarypack&quot;),f=a(&quot;./adapter&quot;).RTCPeerConnection,g={noop:function(){},CLOUD_HOST:&quot;0.peerjs.com&quot;,CLOUD_PORT:9e3,chunkedBrowsers:{Chrome:1},chunkedMTU:16300,logLevel:0,setLogLevel:function(a){var b=parseInt(a,10);g.logLevel=isNaN(parseInt(a,10))?a?3:0:b,g.log=g.warn=g.error=g.noop,g.logLevel&gt;0&amp;&amp;(g.error=g._printWith(&quot;ERROR&quot;)),g.logLevel&gt;1&amp;&amp;(g.warn=g._printWith(&quot;WARNING&quot;)),g.logLevel&gt;2&amp;&amp;(g.log=g._print)},setLogFunction:function(a){a.constructor!==Function?g.warn(&quot;The log function you passed in is not a function. Defaulting to regular logs.&quot;):g._print=a},_printWith:function(a){return function(){var b=Array.prototype.slice.call(arguments);b.unshift(a),g._print.apply(g,b)}},_print:function(){var a=!1,b=Array.prototype.slice.call(arguments);b.unshift(&quot;PeerJS: &quot;);for(var c=0,d=b.length;d&gt;c;c++)b[c]instanceof Error&amp;&amp;(b[c]=&quot;(&quot;+b[c].name+&quot;) &quot;+b[c].message,a=!0);a?console.error.apply(console,b):console.log.apply(console,b)},defaultConfig:c,browser:function(){return window.mozRTCPeerConnection?&quot;Firefox&quot;:window.webkitRTCPeerConnection?&quot;Chrome&quot;:window.RTCPeerConnection?&quot;Supported&quot;:&quot;Unsupported&quot;}(),supports:function(){if(&quot;undefined&quot;==typeof f)return{};var a,b,d=!0,e=!0,h=!1,i=!1,j=!!window.webkitRTCPeerConnection;try{a=new f(c,{optional:[{RtpDataChannels:!0}]})}catch(k){d=!1,e=!1}if(d)try{b=a.createDataChannel(&quot;_PEERJSTEST&quot;)}catch(k){d=!1}if(d){try{b.binaryType=&quot;blob&quot;,h=!0}catch(k){}var l=new f(c,{});try{var m=l.createDataChannel(&quot;_PEERJSRELIABLETEST&quot;,{});i=m.reliable}catch(k){}l.close()}if(e&amp;&amp;(e=!!a.addStream),!j&amp;&amp;d){var n=new f(c,{optional:[{RtpDataChannels:!0}]});n.onnegotiationneeded=function(){j=!0,g&amp;&amp;g.supports&amp;&amp;(g.supports.onnegotiationneeded=!0)},n.createDataChannel(&quot;_PEERJSNEGOTIATIONTEST&quot;),setTimeout(function(){n.close()},1e3)}return a&amp;&amp;a.close(),{audioVideo:e,data:d,binaryBlob:h,binary:i,reliable:i,sctp:i,onnegotiationneeded:j}}(),validateId:function(a){return!a||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.exec(a)},validateKey:function(a){return!a||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.exec(a)},debug:!1,inherits:function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})},extend:function(a,b){for(var c in b)b.hasOwnProperty(c)&amp;&amp;(a[c]=b[c]);return a},pack:e.pack,unpack:e.unpack,log:function(){if(g.debug){var a=!1,b=Array.prototype.slice.call(arguments);b.unshift(&quot;PeerJS: &quot;);for(var c=0,d=b.length;d&gt;c;c++)b[c]instanceof Error&amp;&amp;(b[c]=&quot;(&quot;+b[c].name+&quot;) &quot;+b[c].message,a=!0);a?console.error.apply(console,b):console.log.apply(console,b)}},setZeroTimeout:function(a){function b(b){d.push(b),a.postMessage(e,&quot;*&quot;)}function c(b){b.source==a&amp;&amp;b.data==e&amp;&amp;(b.stopPropagation&amp;&amp;b.stopPropagation(),d.length&amp;&amp;d.shift()())}var d=[],e=&quot;zero-timeout-message&quot;;return a.addEventListener?a.addEventListener(&quot;message&quot;,c,!0):a.attachEvent&amp;&amp;a.attachEvent(&quot;onmessage&quot;,c),b}(window),chunk:function(a){for(var b=[],c=a.size,e=index=0,f=Math.ceil(c/g.chunkedMTU);c&gt;e;){var h=Math.min(c,e+g.chunkedMTU),i=a.slice(e,h),j={__peerData:d,n:index,data:i,total:f};b.push(j),e=h,index+=1}return d+=1,b},blobToArrayBuffer:function(a,b){var c=new FileReader;c.onload=function(a){b(a.target.result)},c.readAsArrayBuffer(a)},blobToBinaryString:function(a,b){var c=new FileReader;c.onload=function(a){b(a.target.result)},c.readAsBinaryString(a)},binaryStringToArrayBuffer:function(a){for(var b=new Uint8Array(a.length),c=0;c&lt;a.length;c++)b[c]=255&amp;a.charCodeAt(c);return b.buffer},randomToken:function(){return Math.random().toString(36).substr(2)},isSecure:function(){return&quot;https:&quot;===location.protocol}};b.exports=g},{&quot;./adapter&quot;:1,&quot;js-binarypack&quot;:10}],9:[function(a,b){&quot;use strict&quot;;function c(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function d(){}d.prototype._events=void 0,d.prototype.listeners=function(a){if(!this._events||!this._events[a])return[];for(var b=0,c=this._events[a].length,d=[];c&gt;b;b++)d.push(this._events[a][b].fn);return d},d.prototype.emit=function(a,b,c,d,e,f){if(!this._events||!this._events[a])return!1;var g,h,i,j=this._events[a],k=j.length,l=arguments.length,m=j[0];if(1===k){switch(m.once&amp;&amp;this.removeListener(a,m.fn,!0),l){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,b),!0;case 3:return m.fn.call(m.context,b,c),!0;case 4:return m.fn.call(m.context,b,c,d),!0;case 5:return m.fn.call(m.context,b,c,d,e),!0;case 6:return m.fn.call(m.context,b,c,d,e,f),!0}for(h=1,g=new Array(l-1);l&gt;h;h++)g[h-1]=arguments[h];m.fn.apply(m.context,g)}else for(h=0;k&gt;h;h++)switch(j[h].once&amp;&amp;this.removeListener(a,j[h].fn,!0),l){case 1:j[h].fn.call(j[h].context);break;case 2:j[h].fn.call(j[h].context,b);break;case 3:j[h].fn.call(j[h].context,b,c);break;default:if(!g)for(i=1,g=new Array(l-1);l&gt;i;i++)g[i-1]=arguments[i];j[h].fn.apply(j[h].context,g)}return!0},d.prototype.on=function(a,b,d){return this._events||(this._events={}),this._events[a]||(this._events[a]=[]),this._events[a].push(new c(b,d||this)),this},d.prototype.once=function(a,b,d){return this._events||(this._events={}),this._events[a]||(this._events[a]=[]),this._events[a].push(new c(b,d||this,!0)),this},d.prototype.removeListener=function(a,b,c){if(!this._events||!this._events[a])return this;var d=this._events[a],e=[];if(b)for(var f=0,g=d.length;g&gt;f;f++)d[f].fn!==b&amp;&amp;d[f].once!==c&amp;&amp;e.push(d[f]);return this._events[a]=e.length?e:null,this},d.prototype.removeAllListeners=function(a){return this._events?(a?this._events[a]=null:this._events={},this):this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prototype.setMaxListeners=function(){return this},d.EventEmitter=d,d.EventEmitter2=d,d.EventEmitter3=d,&quot;object&quot;==typeof b&amp;&amp;b.exports&amp;&amp;(b.exports=d)},{}],10:[function(a,b){function c(a){this.index=0,this.dataBuffer=a,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function d(){this.bufferBuilder=new g}function e(a){var b=a.charCodeAt(0);return 2047&gt;=b?&quot;00&quot;:65535&gt;=b?&quot;000&quot;:2097151&gt;=b?&quot;0000&quot;:67108863&gt;=b?&quot;00000&quot;:&quot;000000&quot;}function f(a){return a.length&gt;600?new Blob([a]).size:a.replace(/[^\u0000-\u007F]/g,e).length}var g=a(&quot;./bufferbuilder&quot;).BufferBuilder,h=a(&quot;./bufferbuilder&quot;).binaryFeatures,i={unpack:function(a){var b=new c(a);return b.unpack()},pack:function(a){var b=new d;b.pack(a);var c=b.getBuffer();return c}};b.exports=i,c.prototype.unpack=function(){var a=this.unpack_uint8();if(128&gt;a){var b=a;return b}if(32&gt;(224^a)){var c=(224^a)-32;return c}var d;if((d=160^a)&lt;=15)return this.unpack_raw(d);if((d=176^a)&lt;=15)return this.unpack_string(d);if((d=144^a)&lt;=15)return this.unpack_array(d);if((d=128^a)&lt;=15)return this.unpack_map(d);switch(a){case 192:return null;case 193:return void 0;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return void 0;case 213:return void 0;case 214:return void 0;case 215:return void 0;case 216:return d=this.unpack_uint16(),this.unpack_string(d);case 217:return d=this.unpack_uint32(),this.unpack_string(d);case 218:return d=this.unpack_uint16(),this.unpack_raw(d);case 219:return d=this.unpack_uint32(),this.unpack_raw(d);case 220:return d=this.unpack_uint16(),this.unpack_array(d);case 221:return d=this.unpack_uint32(),this.unpack_array(d);case 222:return d=this.unpack_uint16(),this.unpack_map(d);case 223:return d=this.unpack_uint32(),this.unpack_map(d)}},c.prototype.unpack_uint8=function(){var a=255&amp;this.dataView[this.index];return this.index++,a},c.prototype.unpack_uint16=function(){var a=this.read(2),b=256*(255&amp;a[0])+(255&amp;a[1]);return this.index+=2,b},c.prototype.unpack_uint32=function(){var a=this.read(4),b=256*(256*(256*a[0]+a[1])+a[2])+a[3];return this.index+=4,b},c.prototype.unpack_uint64=function(){var a=this.read(8),b=256*(256*(256*(256*(256*(256*(256*a[0]+a[1])+a[2])+a[3])+a[4])+a[5])+a[6])+a[7];return this.index+=8,b},c.prototype.unpack_int8=function(){var a=this.unpack_uint8();return 128&gt;a?a:a-256},c.prototype.unpack_int16=function(){var a=this.unpack_uint16();return 32768&gt;a?a:a-65536},c.prototype.unpack_int32=function(){var a=this.unpack_uint32();return a&lt;Math.pow(2,31)?a:a-Math.pow(2,32)},c.prototype.unpack_int64=function(){var a=this.unpack_uint64();return a&lt;Math.pow(2,63)?a:a-Math.pow(2,64)},c.prototype.unpack_raw=function(a){if(this.length&lt;this.index+a)throw new Error(&quot;BinaryPackFailure: index is out of range &quot;+this.index+&quot; &quot;+a+&quot; &quot;+this.length);var b=this.dataBuffer.slice(this.index,this.index+a);return this.index+=a,b},c.prototype.unpack_string=function(a){for(var b,c,d=this.read(a),e=0,f=&quot;&quot;;a&gt;e;)b=d[e],128&gt;b?(f+=String.fromCharCode(b),e++):32&gt;(192^b)?(c=(192^b)&lt;&lt;6|63&amp;d[e+1],f+=String.fromCharCode(c),e+=2):(c=(15&amp;b)&lt;&lt;12|(63&amp;d[e+1])&lt;&lt;6|63&amp;d[e+2],f+=String.fromCharCode(c),e+=3);return this.index+=a,f},c.prototype.unpack_array=function(a){for(var b=new Array(a),c=0;a&gt;c;c++)b[c]=this.unpack();return b},c.prototype.unpack_map=function(a){for(var b={},c=0;a&gt;c;c++){var d=this.unpack(),e=this.unpack();b[d]=e}return b},c.prototype.unpack_float=function(){var a=this.unpack_uint32(),b=a&gt;&gt;31,c=(a&gt;&gt;23&amp;255)-127,d=8388607&amp;a|8388608;return(0==b?1:-1)*d*Math.pow(2,c-23)},c.prototype.unpack_double=function(){var a=this.unpack_uint32(),b=this.unpack_uint32(),c=a&gt;&gt;31,d=(a&gt;&gt;20&amp;2047)-1023,e=1048575&amp;a|1048576,f=e*Math.pow(2,d-20)+b*Math.pow(2,d-52);return(0==c?1:-1)*f},c.prototype.read=function(a){var b=this.index;if(b+a&lt;=this.length)return this.dataView.subarray(b,b+a);throw new Error(&quot;BinaryPackFailure: read index out of range&quot;)},d.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},d.prototype.pack=function(a){var b=typeof a;if(&quot;string&quot;==b)this.pack_string(a);else if(&quot;number&quot;==b)Math.floor(a)===a?this.pack_integer(a):this.pack_double(a);else if(&quot;boolean&quot;==b)a===!0?this.bufferBuilder.append(195):a===!1&amp;&amp;this.bufferBuilder.append(194);else if(&quot;undefined&quot;==b)this.bufferBuilder.append(192);else{if(&quot;object&quot;!=b)throw new Error(&#39;Type &quot;&#39;+b+&#39;&quot; not yet supported&#39;);if(null===a)this.bufferBuilder.append(192);else{var c=a.constructor;if(c==Array)this.pack_array(a);else if(c==Blob||c==File)this.pack_bin(a);</td>
      </tr>
      <tr>
        <td id="L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="LC2" class="blob-code blob-code-inner js-file-line">else if(c==ArrayBuffer)this.pack_bin(h.useArrayBufferView?new Uint8Array(a):a);else if(&quot;BYTES_PER_ELEMENT&quot;in a)this.pack_bin(h.useArrayBufferView?new Uint8Array(a.buffer):a.buffer);else if(c==Object)this.pack_object(a);else if(c==Date)this.pack_string(a.toString());else{if(&quot;function&quot;!=typeof a.toBinaryPack)throw new Error(&#39;Type &quot;&#39;+c.toString()+&#39;&quot; not yet supported&#39;);this.bufferBuilder.append(a.toBinaryPack())}}}this.bufferBuilder.flush()},d.prototype.pack_bin=function(a){var b=a.length||a.byteLength||a.size;if(15&gt;=b)this.pack_uint8(160+b);else if(65535&gt;=b)this.bufferBuilder.append(218),this.pack_uint16(b);else{if(!(4294967295&gt;=b))throw new Error(&quot;Invalid length&quot;);this.bufferBuilder.append(219),this.pack_uint32(b)}this.bufferBuilder.append(a)},d.prototype.pack_string=function(a){var b=f(a);if(15&gt;=b)this.pack_uint8(176+b);else if(65535&gt;=b)this.bufferBuilder.append(216),this.pack_uint16(b);else{if(!(4294967295&gt;=b))throw new Error(&quot;Invalid length&quot;);this.bufferBuilder.append(217),this.pack_uint32(b)}this.bufferBuilder.append(a)},d.prototype.pack_array=function(a){var b=a.length;if(15&gt;=b)this.pack_uint8(144+b);else if(65535&gt;=b)this.bufferBuilder.append(220),this.pack_uint16(b);else{if(!(4294967295&gt;=b))throw new Error(&quot;Invalid length&quot;);this.bufferBuilder.append(221),this.pack_uint32(b)}for(var c=0;b&gt;c;c++)this.pack(a[c])},d.prototype.pack_integer=function(a){if(a&gt;=-32&amp;&amp;127&gt;=a)this.bufferBuilder.append(255&amp;a);else if(a&gt;=0&amp;&amp;255&gt;=a)this.bufferBuilder.append(204),this.pack_uint8(a);else if(a&gt;=-128&amp;&amp;127&gt;=a)this.bufferBuilder.append(208),this.pack_int8(a);else if(a&gt;=0&amp;&amp;65535&gt;=a)this.bufferBuilder.append(205),this.pack_uint16(a);else if(a&gt;=-32768&amp;&amp;32767&gt;=a)this.bufferBuilder.append(209),this.pack_int16(a);else if(a&gt;=0&amp;&amp;4294967295&gt;=a)this.bufferBuilder.append(206),this.pack_uint32(a);else if(a&gt;=-2147483648&amp;&amp;2147483647&gt;=a)this.bufferBuilder.append(210),this.pack_int32(a);else if(a&gt;=-0x8000000000000000&amp;&amp;0x8000000000000000&gt;=a)this.bufferBuilder.append(211),this.pack_int64(a);else{if(!(a&gt;=0&amp;&amp;0x10000000000000000&gt;=a))throw new Error(&quot;Invalid integer&quot;);this.bufferBuilder.append(207),this.pack_uint64(a)}},d.prototype.pack_double=function(a){var b=0;0&gt;a&amp;&amp;(b=1,a=-a);var c=Math.floor(Math.log(a)/Math.LN2),d=a/Math.pow(2,c)-1,e=Math.floor(d*Math.pow(2,52)),f=Math.pow(2,32),g=b&lt;&lt;31|c+1023&lt;&lt;20|e/f&amp;1048575,h=e%f;this.bufferBuilder.append(203),this.pack_int32(g),this.pack_int32(h)},d.prototype.pack_object=function(a){var b=Object.keys(a),c=b.length;if(15&gt;=c)this.pack_uint8(128+c);else if(65535&gt;=c)this.bufferBuilder.append(222),this.pack_uint16(c);else{if(!(4294967295&gt;=c))throw new Error(&quot;Invalid length&quot;);this.bufferBuilder.append(223),this.pack_uint32(c)}for(var d in a)a.hasOwnProperty(d)&amp;&amp;(this.pack(d),this.pack(a[d]))},d.prototype.pack_uint8=function(a){this.bufferBuilder.append(a)},d.prototype.pack_uint16=function(a){this.bufferBuilder.append(a&gt;&gt;8),this.bufferBuilder.append(255&amp;a)},d.prototype.pack_uint32=function(a){var b=4294967295&amp;a;this.bufferBuilder.append((4278190080&amp;b)&gt;&gt;&gt;24),this.bufferBuilder.append((16711680&amp;b)&gt;&gt;&gt;16),this.bufferBuilder.append((65280&amp;b)&gt;&gt;&gt;8),this.bufferBuilder.append(255&amp;b)},d.prototype.pack_uint64=function(a){var b=a/Math.pow(2,32),c=a%Math.pow(2,32);this.bufferBuilder.append((4278190080&amp;b)&gt;&gt;&gt;24),this.bufferBuilder.append((16711680&amp;b)&gt;&gt;&gt;16),this.bufferBuilder.append((65280&amp;b)&gt;&gt;&gt;8),this.bufferBuilder.append(255&amp;b),this.bufferBuilder.append((4278190080&amp;c)&gt;&gt;&gt;24),this.bufferBuilder.append((16711680&amp;c)&gt;&gt;&gt;16),this.bufferBuilder.append((65280&amp;c)&gt;&gt;&gt;8),this.bufferBuilder.append(255&amp;c)},d.prototype.pack_int8=function(a){this.bufferBuilder.append(255&amp;a)},d.prototype.pack_int16=function(a){this.bufferBuilder.append((65280&amp;a)&gt;&gt;8),this.bufferBuilder.append(255&amp;a)},d.prototype.pack_int32=function(a){this.bufferBuilder.append(a&gt;&gt;&gt;24&amp;255),this.bufferBuilder.append((16711680&amp;a)&gt;&gt;&gt;16),this.bufferBuilder.append((65280&amp;a)&gt;&gt;&gt;8),this.bufferBuilder.append(255&amp;a)},d.prototype.pack_int64=function(a){var b=Math.floor(a/Math.pow(2,32)),c=a%Math.pow(2,32);this.bufferBuilder.append((4278190080&amp;b)&gt;&gt;&gt;24),this.bufferBuilder.append((16711680&amp;b)&gt;&gt;&gt;16),this.bufferBuilder.append((65280&amp;b)&gt;&gt;&gt;8),this.bufferBuilder.append(255&amp;b),this.bufferBuilder.append((4278190080&amp;c)&gt;&gt;&gt;24),this.bufferBuilder.append((16711680&amp;c)&gt;&gt;&gt;16),this.bufferBuilder.append((65280&amp;c)&gt;&gt;&gt;8),this.bufferBuilder.append(255&amp;c)}},{&quot;./bufferbuilder&quot;:11}],11:[function(a,b){function c(){this._pieces=[],this._parts=[]}var d={};d.useBlobBuilder=function(){try{return new Blob([]),!1}catch(a){return!0}}(),d.useArrayBufferView=!d.useBlobBuilder&amp;&amp;function(){try{return 0===new Blob([new Uint8Array([])]).size}catch(a){return!0}}(),b.exports.binaryFeatures=d;var e=b.exports.BlobBuilder;&quot;undefined&quot;!=typeof window&amp;&amp;(e=b.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),c.prototype.append=function(a){&quot;number&quot;==typeof a?this._pieces.push(a):(this.flush(),this._parts.push(a))},c.prototype.flush=function(){if(this._pieces.length&gt;0){var a=new Uint8Array(this._pieces);d.useArrayBufferView||(a=a.buffer),this._parts.push(a),this._pieces=[]}},c.prototype.getBuffer=function(){if(this.flush(),d.useBlobBuilder){for(var a=new e,b=0,c=this._parts.length;c&gt;b;b++)a.append(this._parts[b]);return a.getBlob()}return new Blob(this._parts)},b.exports.BufferBuilder=c},{}],12:[function(a,b){function c(a,b){return this instanceof c?(this._dc=a,d.debug=b,this._outgoing={},this._incoming={},this._received={},this._window=1e3,this._mtu=500,this._interval=0,this._count=0,this._queue=[],void this._setupDC()):new c(a)}var d=a(&quot;./util&quot;);c.prototype.send=function(a){var b=d.pack(a);return b.size&lt;this._mtu?void this._handleSend([&quot;no&quot;,b]):(this._outgoing[this._count]={ack:0,chunks:this._chunk(b)},d.debug&amp;&amp;(this._outgoing[this._count].timer=new Date),this._sendWindowedChunks(this._count),void(this._count+=1))},c.prototype._setupInterval=function(){var a=this;this._timeout=setInterval(function(){var b=a._queue.shift();if(b._multiple)for(var c=0,d=b.length;d&gt;c;c+=1)a._intervalSend(b[c]);else a._intervalSend(b)},this._interval)},c.prototype._intervalSend=function(a){var b=this;a=d.pack(a),d.blobToBinaryString(a,function(a){b._dc.send(a)}),0===b._queue.length&amp;&amp;(clearTimeout(b._timeout),b._timeout=null)},c.prototype._processAcks=function(){for(var a in this._outgoing)this._outgoing.hasOwnProperty(a)&amp;&amp;this._sendWindowedChunks(a)},c.prototype._handleSend=function(a){for(var b=!0,c=0,d=this._queue.length;d&gt;c;c+=1){var e=this._queue[c];e===a?b=!1:e._multiple&amp;&amp;-1!==e.indexOf(a)&amp;&amp;(b=!1)}b&amp;&amp;(this._queue.push(a),this._timeout||this._setupInterval())},c.prototype._setupDC=function(){var a=this;this._dc.onmessage=function(b){var c=b.data,e=c.constructor;if(e===String){var f=d.binaryStringToArrayBuffer(c);c=d.unpack(f),a._handleMessage(c)}}},c.prototype._handleMessage=function(a){var b,c=a[1],e=this._incoming[c],f=this._outgoing[c];switch(a[0]){case&quot;no&quot;:var g=c;g&amp;&amp;this.onmessage(d.unpack(g));break;case&quot;end&quot;:if(b=e,this._received[c]=a[2],!b)break;this._ack(c);break;case&quot;ack&quot;:if(b=f){var h=a[2];b.ack=Math.max(h,b.ack),b.ack&gt;=b.chunks.length?(d.log(&quot;Time: &quot;,new Date-b.timer),delete this._outgoing[c]):this._processAcks()}break;case&quot;chunk&quot;:if(b=e,!b){var i=this._received[c];if(i===!0)break;b={ack:[&quot;ack&quot;,c,0],chunks:[]},this._incoming[c]=b}var j=a[2],k=a[3];b.chunks[j]=new Uint8Array(k),j===b.ack[2]&amp;&amp;this._calculateNextAck(c),this._ack(c);break;default:this._handleSend(a)}},c.prototype._chunk=function(a){for(var b=[],c=a.size,e=0;c&gt;e;){var f=Math.min(c,e+this._mtu),g=a.slice(e,f),h={payload:g};b.push(h),e=f}return d.log(&quot;Created&quot;,b.length,&quot;chunks.&quot;),b},c.prototype._ack=function(a){var b=this._incoming[a].ack;this._received[a]===b[2]&amp;&amp;(this._complete(a),this._received[a]=!0),this._handleSend(b)},c.prototype._calculateNextAck=function(a){for(var b=this._incoming[a],c=b.chunks,d=0,e=c.length;e&gt;d;d+=1)if(void 0===c[d])return void(b.ack[2]=d);b.ack[2]=c.length},c.prototype._sendWindowedChunks=function(a){d.log(&quot;sendWindowedChunks for: &quot;,a);for(var b=this._outgoing[a],c=b.chunks,e=[],f=Math.min(b.ack+this._window,c.length),g=b.ack;f&gt;g;g+=1)c[g].sent&amp;&amp;g!==b.ack||(c[g].sent=!0,e.push([&quot;chunk&quot;,a,g,c[g].payload]));b.ack+this._window&gt;=c.length&amp;&amp;e.push([&quot;end&quot;,a,c.length]),e._multiple=!0,this._handleSend(e)},c.prototype._complete=function(a){d.log(&quot;Completed called for&quot;,a);var b=this,c=this._incoming[a].chunks,e=new Blob(c);d.blobToArrayBuffer(e,function(a){b.onmessage(d.unpack(a))}),delete this._incoming[a]},c.higherBandwidthSDP=function(a){var b=navigator.appVersion.match(/Chrome\/(.*?) /);if(b&amp;&amp;(b=parseInt(b[1].split(&quot;.&quot;).shift()),31&gt;b)){var c=a.split(&quot;b=AS:30&quot;),d=&quot;b=AS:102400&quot;;if(c.length&gt;1)return c[0]+d+c[1]}return a},c.prototype.onmessage=function(){},b.exports.Reliable=c},{&quot;./util&quot;:13}],13:[function(a,b){var c=a(&quot;js-binarypack&quot;),d={debug:!1,inherits:function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})},extend:function(a,b){for(var c in b)b.hasOwnProperty(c)&amp;&amp;(a[c]=b[c]);return a},pack:c.pack,unpack:c.unpack,log:function(){if(d.debug){for(var a=[],b=0;b&lt;arguments.length;b++)a[b]=arguments[b];a.unshift(&quot;Reliable: &quot;),console.log.apply(console,a)}},setZeroTimeout:function(a){function b(b){d.push(b),a.postMessage(e,&quot;*&quot;)}function c(b){b.source==a&amp;&amp;b.data==e&amp;&amp;(b.stopPropagation&amp;&amp;b.stopPropagation(),d.length&amp;&amp;d.shift()())}var d=[],e=&quot;zero-timeout-message&quot;;return a.addEventListener?a.addEventListener(&quot;message&quot;,c,!0):a.attachEvent&amp;&amp;a.attachEvent(&quot;onmessage&quot;,c),b}(this),blobToArrayBuffer:function(a,b){var c=new FileReader;c.onload=function(a){b(a.target.result)},c.readAsArrayBuffer(a)},blobToBinaryString:function(a,b){var c=new FileReader;c.onload=function(a){b(a.target.result)},c.readAsBinaryString(a)},binaryStringToArrayBuffer:function(a){for(var b=new Uint8Array(a.length),c=0;c&lt;a.length;c++)b[c]=255&amp;a.charCodeAt(c);return b.buffer},randomToken:function(){return Math.random().toString(36).substr(2)}};b.exports=d},{&quot;js-binarypack&quot;:10}]},{},[3]);</td>
      </tr>
</table>

  </div>

</div>

<a href="#jump-to-line" rel="facebox[.linejump]" data-hotkey="l" style="display:none">Jump to Line</a>
<div id="jump-to-line" style="display:none">
  <form accept-charset="UTF-8" action="" class="js-jump-to-line-form" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
    <input class="linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" autofocus>
    <button type="submit" class="btn">Go</button>
</form></div>

        </div>

      </div><!-- /.repo-container -->
      <div class="modal-backdrop"></div>
    </div><!-- /.container -->
  </div><!-- /.site -->


    </div><!-- /.wrapper -->

      <div class="container">
  <div class="site-footer" role="contentinfo">
    <ul class="site-footer-links right">
        <li><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
      <li><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li><a href="https://shop.github.com" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li><a href="https://github.com/blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a href="https://github.com/about" data-ga-click="Footer, go to about, text:about">About</a></li>
      <li><a href="https://help.github.com" data-ga-click="Footer, go to help, text:help">Help</a></li>

    </ul>

    <a href="https://github.com" aria-label="Homepage">
      <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
</a>
    <ul class="site-footer-links">
      <li>&copy; 2015 <span title="0.08589s from github-fe120-cp1-prd.iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="https://github.com/site/terms" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li><a href="https://github.com/site/privacy" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li><a href="https://github.com/security" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li><a href="https://github.com/contact" data-ga-click="Footer, go to contact, text:contact">Contact</a></li>
    </ul>
  </div>
</div>


    <div class="fullscreen-overlay js-fullscreen-overlay" id="fullscreen_overlay">
  <div class="fullscreen-container js-suggester-container">
    <div class="textarea-wrap">
      <textarea name="fullscreen-contents" id="fullscreen-contents" class="fullscreen-contents js-fullscreen-contents" placeholder=""></textarea>
      <div class="suggester-container">
        <div class="suggester fullscreen-suggester js-suggester js-navigation-container"></div>
      </div>
    </div>
  </div>
  <div class="fullscreen-sidebar">
    <a href="#" class="exit-fullscreen js-exit-fullscreen tooltipped tooltipped-w" aria-label="Exit Zen Mode">
      <span class="mega-octicon octicon-screen-normal"></span>
    </a>
    <a href="#" class="theme-switcher js-theme-switcher tooltipped tooltipped-w"
      aria-label="Switch themes">
      <span class="octicon octicon-color-mode"></span>
    </a>
  </div>
</div>



    
    

    <div id="ajax-error-message" class="flash flash-error">
      <span class="octicon octicon-alert"></span>
      <a href="#" class="octicon octicon-x flash-close js-ajax-error-dismiss" aria-label="Dismiss error"></a>
      Something went wrong with that request. Please try again.
    </div>


      <script crossorigin="anonymous" src="https://assets-cdn.github.com/assets/frameworks-3241a40a58a82e21daef3dd3cdca01bde189158793c1b6f9193fff2b5293cd1d.js"></script>
      <script async="async" crossorigin="anonymous" src="https://assets-cdn.github.com/assets/github/index-471e16c385630fc90f72fdbad66daf608b8acc111540b962c14a5b615213e705.js"></script>
      
      
  </body>
</html>

